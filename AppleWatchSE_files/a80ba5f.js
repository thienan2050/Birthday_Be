(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{1091:function(t,e,n){var map={"./comment_reply.svg":1507,"./game.svg":1508,"./order_update_status_1.svg":1509,"./order_update_status_2.svg":1510,"./order_update_status_3.svg":1511,"./order_update_status_4.svg":1512,"./order_update_status_5.svg":1513,"./otp.svg":1514,"./promotion.svg":1515,"./review_remind.svg":1516};function r(t){var e=o(t);return n(e)}function o(t){if(!n.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}r.keys=function(){return Object.keys(map)},r.resolve=o,t.exports=r,r.id=1091},1092:function(t,e,n){t.exports={}},1297:function(t,e,n){"use strict";n.r(e);n(33),n(46),n(9);var r=[function(){var t=this,e=t._self._c;return e("div",[e("img",{attrs:{src:n(1506),alt:"smember",loading:"lazy"}}),t._v(" "),e("span",[t._v(" Truy cập Smember")])])},function(){var t=this,e=t._self._c;return e("div",[e("span",[t._v(" Ở đây hơi trống trải.")]),t._v(" "),e("span",[t._v("\n              S-Ant sẽ gửi cho bạn những thông báo mới nhất tại đây nhé!\n            ")])])}],o=(n(36),n(47),n(48),n(22),n(0)),c=n(7),l=(n(15),n(791),n(89),n(60),n(35),n(52),n(67),n(23),n(82),n(8),n(26)),d=n(105);function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){Object(c.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var h={name:"Notification",data:function(){return{expandedItems:[],isOverflowing:[],cpsSmember:"https://cellphones.com.vn/smember/",cpsMain:"https://cellphones.com.vn/"}},computed:f({},Object(l.e)("notification",["listFilter","listNoti","loadingNoti","page","perPage","totalUnread","seenSuccess","isGetAll","info","listType","filter"])),watch:{filter:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.handleReset();case 2:case"end":return e.stop()}}),e)})))()},listNoti:{handler:function(){var t=this,e=setTimeout((function(){t.$nextTick((function(){t.resetExpandedState(),t.checkOverflow(),clearTimeout(e)}))}),250)},deep:!0}},mounted:function(){var t=this,e=setTimeout((function(){t.$nextTick((function(){t.$refs["noti-main"]&&document.addEventListener("click",t.handleClick),t.$refs["list-noti-wrapper"]&&t.$refs["list-noti-wrapper"].addEventListener("scroll",t.handleScroll)})),t.checkOverflow(),clearTimeout(e)}),200)},beforeUnmount:function(){this.$refs["noti-main"]&&document.removeEventListener("click",this.handleClick),this.$refs["list-noti-wrapper"]&&this.$refs["list-noti-wrapper"].removeEventListener("scroll",this.handleScroll)},methods:f(f(f({copy:d.j,handleDiffPostedDate:d.t},Object(l.b)("notification",["getListNoti","fetchSeenNoti","fetchSeenAll"])),Object(l.d)("notification",["setShowModal","setShowModalMobile","setPage","setListNoti","concatListNoti","setFilter"])),{},{getIcon:function(t){return this.info["".concat(t)]?n(1091)("./".concat(this.info["".concat(t)].icon)):n(1091)("./".concat(this.info.default.icon))},getReadNoti:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(0!==t.status){n.next=3;break}return n.next=3,e.fetchSeenNoti({id:null==t?void 0:t.id});case 3:case"end":return n.stop()}}),n)})))()},getAction:function(t,e){var n=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var o,c,l,d,v,f,h;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=n.info["".concat(t)],0!==e.status){r.next=4;break}return r.next=4,n.fetchSeenNoti({id:null==e?void 0:e.id});case 4:c=e.action,r.t0=c.type,r.next="redirect"===r.t0?8:"copy"===r.t0?10:12;break;case 8:return"order"===(null==o?void 0:o.type)?window.location.href="".concat(n.cpsSmember,"order/order-detail?order-id=").concat((null==c||null===(l=c.url)||void 0===l||null===(l=l.parameters)||void 0===l?void 0:l.order_id)||0):"comment"===(null==o?void 0:o.type)?window.location.href="".concat(n.cpsMain).concat(null==c||null===(d=c.url)||void 0===d?void 0:d.path,"?comment_id=").concat((null==c||null===(v=c.url)||void 0===v||null===(v=v.parameters)||void 0===v?void 0:v.comment_id)||0):"review"===(null==o?void 0:o.type)?window.location.href="".concat(n.cpsMain).concat(null==c||null===(f=c.url)||void 0===f?void 0:f.path.replace(".html",""),"/review?review_remind=1"):"game"!==(null==o?void 0:o.type)&&"promotion"!==(null==o?void 0:o.type)||(window.location.href="".concat(null==c||null===(h=c.url)||void 0===h?void 0:h.path)),r.abrupt("break",12);case 10:return n.copy((null==c?void 0:c.text)||"").then((function(){n.$alertMessage({message:"Sao chép thành công!",icon:"CircleExclamation",type:"success"})})),r.abrupt("break",12);case 12:case"end":return r.stop()}}),r)})))()},handleSetFilter:function(t){this.setFilter(t)},rePlaceContent:function(t,text){var e=text;return t.forEach((function(t){var n;e=e.replace("{$var$}","<strong>".concat(null!==(n=null==t?void 0:t.text)&&void 0!==n?n:"","</strong>"))})),e},handleSeenAll:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchSeenAll();case 2:if(!t.seenSuccess){e.next=5;break}return e.next=5,t.handleReset();case 5:case"end":return e.stop()}}),e)})))()},handleReset:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setPage(1),e.next=3,t.getListNoti({status:null,type:t.filter,page:t.page,size:t.perPage});case 3:if(n=e.sent,t.setListNoti(n),t.$refs["list-noti-wrapper"]){e.next=7;break}return e.abrupt("return");case 7:t.$refs["list-noti-wrapper"].scrollTo(0,0);case 8:case"end":return e.stop()}}),e)})))()},handleGetMore:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getListNoti({status:null,type:t.filter,page:t.page,size:t.perPage});case 2:n=e.sent,t.concatListNoti(n);case 4:case"end":return e.stop()}}),e)})))()},handleScroll:function(t){if(!this.isGetAll&&!this.loadingNoti){var e=t.target;(null==e?void 0:e.offsetHeight)+(null==e?void 0:e.scrollTop)+5>=(null==e?void 0:e.scrollHeight)&&this.handleGetMore()}},handleClick:function(t){this.$refs["noti-main"]&&(this.$refs["noti-main"].contains(null==t?void 0:t.target)||this.setShowModal(!1))},toggleExpand:function(t){this.$set(this.expandedItems,t,!this.expandedItems[t])},checkOverflow:function(){var t=document.querySelectorAll(".noti-content__content--wrapper");Array.from(t)?this.isOverflowing=Array.from(t).map((function(t){return t.scrollHeight>=100})):this.isOverflowing=[],this.expandedItems=Array(this.isOverflowing.length).fill(!1)},resetExpandedState:function(){this.expandedItems=Array(this.listNoti.length).fill(!1),this.isOverflowing=Array(this.listNoti.length).fill(!1)}})},m=(n(1517),n(74)),component=Object(m.a)(h,(function(){var t=this,e=t._self._c;return e("div",{ref:"noti-main",staticClass:"noti"},[e("div",{staticClass:"noti-head"},[e("a",{attrs:{href:t.cpsSmember}},[t._m(0),t._v(" "),e("svg",{attrs:{width:"7",height:"13",viewBox:"0 0 7 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M6.49944 6.51851C6.49982 6.71322 6.432 6.90192 6.30777 7.05184L2.1411 12.0518C1.84655 12.4062 1.32048 12.4547 0.966102 12.1602C0.611719 11.8656 0.563216 11.3396 0.857768 10.9852L4.5911 6.51851L0.991102 2.05184C0.851293 1.87968 0.785877 1.65889 0.809339 1.43836C0.8328 1.21782 0.943202 1.01574 1.1161 0.876843C1.28932 0.722565 1.519 0.647464 1.7499 0.669605C1.9808 0.691747 2.19203 0.809126 2.33277 0.993509L6.35777 5.99351C6.46237 6.14775 6.51224 6.33259 6.49944 6.51851Z",fill:"#D70018"}})])])]),t._v(" "),e("div",{staticClass:"noti-body"},[e("div",{staticClass:"noti-body__title"},[e("span",[t._v("Thông báo")]),t._v(" "),t.listNoti&&t.listNoti.length?e("div",[t.totalUnread>0?e("button",{on:{click:function(e){return t.handleSeenAll()}}},[t._v("\n          Đánh dấu đã đọc tất cả\n        ")]):e("div",[e("span",[t._v(" Bạn đã đọc tất cả thông báo ")]),t._v(" "),e("svg",{attrs:{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M11.0794 4.13995C10.94 4.02959 10.7623 3.97949 10.5857 4.00077C10.4092 4.02205 10.2485 4.11296 10.1394 4.25329L5.47269 10.2533L3.18602 7.46662C3.03998 7.27222 2.79969 7.17274 2.55898 7.20704C2.31827 7.24133 2.11531 7.40395 2.02937 7.6314C1.94343 7.85885 1.98813 8.11505 2.14602 8.29995L4.92602 11.7533C5.05311 11.9099 5.2443 12.0006 5.44602 12C5.6605 12.0095 5.86646 11.9152 5.99936 11.7466L11.2194 5.07995C11.3269 4.93724 11.3726 4.75735 11.3463 4.58063C11.3199 4.4039 11.2238 4.24514 11.0794 4.13995Z",fill:"#229A16"}}),t._v(" "),e("path",{attrs:{d:"M14.4139 4.13995C14.2745 4.02959 14.0968 3.97949 13.9203 4.00077C13.7438 4.02205 13.5831 4.11296 13.4739 4.25329L8.80721 10.2533L8.40055 9.75329L7.56055 10.8333L8.29388 11.7466C8.42097 11.9033 8.61215 11.994 8.81388 11.9933C9.01673 11.9923 9.20812 11.8991 9.33388 11.74L14.5539 5.07329C14.6593 4.93102 14.7037 4.75267 14.6775 4.57758C14.6512 4.40249 14.5564 4.24504 14.4139 4.13995Z",fill:"#229A16"}}),t._v(" "),e("path",{attrs:{d:"M5.8059 8.70668L6.6659 7.62668L6.53256 7.46668C6.42621 7.31933 6.26431 7.22179 6.08435 7.19661C5.90438 7.17144 5.72193 7.22083 5.57923 7.33334C5.44091 7.44446 5.35259 7.60613 5.33382 7.78256C5.31505 7.95898 5.36738 8.13562 5.47923 8.27334L5.8059 8.70668Z",fill:"#229A16"}})])])]):t._e()]),t._v(" "),e("div",{staticClass:"noti-body__filter"},[e("button",{class:{active:""===t.filter},on:{click:function(e){return t.handleSetFilter("")}}},[t._v("\n        Tất cả\n      ")]),t._v(" "),t._l(t.listFilter,(function(n){return e("button",{key:n.code,class:{active:t.filter===n.code},on:{click:function(e){return t.handleSetFilter(n.code)}}},[t._v("\n        "+t._s(n.name)+"\n      ")])}))],2),t._v(" "),e("div",{ref:"list-noti-wrapper",staticClass:"noti-body__list"},[t.listNoti&&t.listNoti.length?e("div",{staticClass:"noti-list"},[t._l(t.listNoti,(function(n,r){var o,c;return e("div",{key:n.id,staticClass:"noti-content",class:{unread:!n.status},on:{click:function(e){return t.getReadNoti(n)}}},[e("div",[e("div",{staticClass:"noti-content__icon"},[e("img",{attrs:{src:t.getIcon(n.body.icon),alt:"icon",loading:"lazy"}})]),t._v(" "),e("div",{staticClass:"noti-content__content"},[e("div",{staticClass:"noti-content__content--wrapper",class:{hide:!t.expandedItems[r]}},[e("RenderHtml",{attrs:{html:t.rePlaceContent(null!==(o=n.body.parameters)&&void 0!==o?o:[],n.body.text)}}),t._v(" "),e("Transition",{attrs:{name:"fade"}},[t.isOverflowing[r]?e("button",{directives:[{name:"show",rawName:"v-show",value:!t.expandedItems[r],expression:"!expandedItems[index]"}],staticClass:"get-more",on:{click:function(e){return t.toggleExpand(r)}}},[e("svg",{attrs:{width:"10",height:"9",viewBox:"0 0 10 9",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M4.8758 4.8758C4.72976 4.87608 4.58824 4.82522 4.4758 4.73205L0.725797 1.60705C0.46001 1.38613 0.423633 0.991584 0.644547 0.725797C0.865461 0.46001 1.26001 0.423633 1.5258 0.644547L4.8758 3.44455L8.2258 0.744547C8.35492 0.63969 8.52051 0.590629 8.68591 0.608225C8.85131 0.625821 9.00288 0.708622 9.10705 0.838297C9.22276 0.968209 9.27908 1.14047 9.26248 1.31365C9.24587 1.48682 9.15784 1.64524 9.01955 1.7508L5.26955 4.76955C5.15387 4.84799 5.01523 4.8854 4.8758 4.8758Z",fill:"#637381"}}),t._v(" "),e("path",{attrs:{d:"M4.8758 8.25306C4.72976 8.25334 4.58824 8.20248 4.4758 8.10931L0.725797 4.98431C0.46001 4.76339 0.423633 4.36884 0.644547 4.10306C0.865461 3.83727 1.26001 3.80089 1.5258 4.02181L4.8758 6.82181L8.2258 4.12181C8.35492 4.01695 8.52051 3.96789 8.68591 3.98548C8.85131 4.00308 9.00288 4.08588 9.10705 4.21556C9.22276 4.34547 9.27908 4.51773 9.26248 4.6909C9.24587 4.86408 9.15784 5.0225 9.01955 5.12806L5.26955 8.14681C5.15387 8.22525 5.01523 8.26266 4.8758 8.25306Z",fill:"#637381"}})])]):t._e()])],1),t._v(" "),e("div",{staticClass:"action"},[e("span",{staticClass:"time"},[t._v("\n                  "+t._s(t.handleDiffPostedDate(n.updated_at))+"\n                ")]),t._v(" "),null!==(c=n.action)&&void 0!==c&&c.type?e("button",{attrs:{type:"button"},on:{click:function(e){return t.getAction(n.body.icon,n)}}},[t._v(t._s("copy"===n.action.type?"Sao chép":"Xem chi tiết"))]):t._e()])])])])})),t._v(" "),t.isGetAll?e("div",{staticClass:"noti-message"},[e("span",[t._v("Không còn thông báo nào nữa ạ!")])]):t._e()],2):e("div",{staticClass:"noti-empty"},[t.loadingNoti?t._e():e("div",{staticClass:"noti-empty__main"},[e("img",{attrs:{src:n(1504),alt:"smember",loading:"lazy"}}),t._v(" "),t._m(1)])])]),t._v(" "),e("Transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.loadingNoti,expression:"loadingNoti"}],staticClass:"noti-body__loading"},[e("img",{attrs:{src:n(1505),alt:"loading",loading:"lazy"}})])])],1),t._v(" "),e("div",{staticClass:"noti-bottom"},[e("button",{on:{click:function(e){t.setShowModal(!1),t.setShowModalMobile(!1)}}},[t._v("\n      Đóng\n    ")])])])}),r,!1,null,"30bf4642",null);e.default=component.exports},1504:function(t,e,n){t.exports=n.p+"img/empty.e7af47f.svg"},1505:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBzdHlsZT0ibWFyZ2luOiBhdXRvOyBiYWNrZ3JvdW5kOiBub25lOyBkaXNwbGF5OiBibG9jazsgc2hhcGUtcmVuZGVyaW5nOiBhdXRvOyIgd2lkdGg9IjIwMHB4IiBoZWlnaHQ9IjIwMHB4IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQiPgo8Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiBmaWxsPSJub25lIiBzdHJva2U9IiNkNzAwMTgiIHN0cm9rZS13aWR0aD0iMTAiIHI9IjM5IiBzdHJva2UtZGFzaGFycmF5PSIxODMuNzgzMTcwMjM1MDAyOSA2My4yNjEwNTY3NDUwMDA5NjQiPgogIDxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0icm90YXRlIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgZHVyPSIxcyIgdmFsdWVzPSIwIDUwIDUwOzM2MCA1MCA1MCIga2V5VGltZXM9IjA7MSI+PC9hbmltYXRlVHJhbnNmb3JtPgo8L2NpcmNsZT4KPCEtLSBbbGRpb10gZ2VuZXJhdGVkIGJ5IGh0dHBzOi8vbG9hZGluZy5pby8gLS0+PC9zdmc+"},1506:function(t,e,n){t.exports=n.p+"img/smember.ab0728d.svg"},1507:function(t,e,n){t.exports=n.p+"img/comment_reply.00a46f7.svg"},1508:function(t,e,n){t.exports=n.p+"img/game.f3d4efc.svg"},1509:function(t,e,n){t.exports=n.p+"img/order_update_status_1.2400dc9.svg"},1510:function(t,e,n){t.exports=n.p+"img/order_update_status_2.68bbe87.svg"},1511:function(t,e,n){t.exports=n.p+"img/order_update_status_3.98c27a0.svg"},1512:function(t,e,n){t.exports=n.p+"img/order_update_status_4.d3cd7a4.svg"},1513:function(t,e,n){t.exports=n.p+"img/order_update_status_5.98f3dc6.svg"},1514:function(t,e,n){t.exports=n.p+"img/otp.a4da202.svg"},1515:function(t,e,n){t.exports=n.p+"img/promotion.a24484f.svg"},1516:function(t,e,n){t.exports=n.p+"img/review_remind.a45cae4.svg"},1517:function(t,e,n){"use strict";n(1092)},791:function(t,e,n){"use strict";var r=n(5),o=n(341),c=n(194);r({target:"Array",proto:!0},{fill:o}),c("fill")}}]);