(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{1093:function(e,t,r){e.exports={}},1518:function(e,t,r){"use strict";r(1093)},1956:function(e,t,r){"use strict";r.r(t);r(36),r(33),r(47),r(48),r(22),r(9),r(23);var o=r(0),n=r(7),c=(r(8),r(15),r(46),r(169),r(26));function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m={name:"PopupError",props:{show:{type:Boolean,default:!1},code:{type:String,default:""},serviceSub:{type:String,default:""},productId:{type:Number,default:0}},data:function(){return{}},computed:d(d(d(d({},Object(c.e)("province",["province"])),Object(c.e)("login",["user"])),Object(c.e)("super-cart",["listError"])),{},{popupErrorInfo:function(){return this.listError[this.code]}}),methods:d(d({},Object(c.d)("super-cart",["setErrorCreateOrder"])),{},{handleClosePopup:function(){this.$emit("close"),this.setErrorCreateOrder({code:null})},handleClickBtn:function(e){"primary"===e?(this.handleClosePopup(),"cart"===this.popupErrorInfo.actionPrimary&&(window.location.href="".concat("https://cellphones.com.vn/","cart")),this.$emit(this.popupErrorInfo.actionPrimary)):"subscription"===e?this.submitFormSubscription():(this.handleClosePopup(),"cart"===this.popupErrorInfo.actionSecondary&&(window.location.href="".concat("https://cellphones.com.vn/","cart")),this.$emit(this.popupErrorInfo.actionSecondary)),e&&this.$emit(e),this.handleClosePopup()},handleClickActionSecondary:function(e){e&&this.$emit(e),this.handleClosePopup()},submitFormSubscription:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r,path,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="".concat("https://api.cellphones.com.vn/","customer-service/v2/subscriptions-api/store"),path=window.location.origin+window.location.pathname,o={phone:e.user.phone||"",fullname:e.user.name,product_id:e.productId,email:e.user.email||"",service:e.serviceSub,type:"cellphones",page_url:path,opt_in:"0"},t.prev=3,t.next=7,e.$axios({method:"POST",url:r,params:o,headers:{authorization:"Bearer ".concat("eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJhdWQiOiI3IiwianRpIjoiODI3M2NmNmJmMGUwM2ZjYTE5Y2ZlYmI3YTc5NWRkMTM3NjY1M2IwY2I1MWFkZWZjM2E3YzIxYjFkOTg5NzJlODgyMmZhMmU5Yjc2NWQyM2IiLCJpYXQiOjE2MzY3OTA0MDkuMjY1NDExLCJuYmYiOjE2MzY3OTA0MDkuMjY1NDE4LCJleHAiOjQ3OTI0NjQwMDkuMjUzODk5LCJzdWIiOiIiLCJzY29wZXMiOlsic3Vic2NyaXB0aW9uX3Bvc3QiXX0.Ts9AEfv81AOrAl71ZF4v6hBow06-9lWxoF4m7ook9OxL2TlnTHXvSf3zuStPCLtvS17Sym_W_GROA-vuj7zG6Sg7q_3sKcjztYR8eiXLEOl-I26pFaHle6z3VYlhZE645BPLnAwtv5bZbV39uaDwMf7nNCdywAD5pJtzV1spgDG31E_OTpL-XVlBjdQIPgXxJgin6jEsFb_4H24WfBUd-nEgDZ6RYKuKOtasJSGOEJ3ClbGOnkcPFoTDwafLehOMcts2ImEZtSbsK3vtB7P7MOZtm3L1xQhJzY79vz9_Br28k8AdX5WV1eJ0OWqS-pXoJgAENwZEq6BjiACtUDMeA0PUDeBS54Ae69nyGfKuB7FQSlrr2JblUiUE_4mpT34hXRSiQIXGsNciGRussGmXTKFsuQH6pBbigTE7Yhzwo0fDty3oAXvfMpL-T2NAE9m3skqfpUJoSsVcA10uOleDNAoE2mc9kfTnWDdOhY4gIC92xv0Y-zUzuLCXmSdYj5R5lVC7Qpn0cJ0bZcyGuOnkOO8mgMXbd5pY0WQ_OKd2tgO1clndwQoV6EOo3aemcbbc1zPR1RXr_lb-mUsYTUpdp8vVtEpxt_0NOVoUIX2TQjkltoo95mOT81t9-sqzOPG1RrWkMKJI34ocKNScyu0ZckFoQY_-KloFJtFEkuQmd34")},timeout:1e4});case 7:200===t.sent.status?(e.pushSubEventToGA({event:"generate_lead",title:"",email:e.user.email||"",phone:e.user.phone||"",name:e.user.name,productId:e.productId,formName:e.$route.name}),e.$alertMessage({message:"Quý khách đã đăng ký thành công",icon:"CircleCheck",type:"success"})):e.$alertMessage({message:"Đăng ký lỗi, xin vui lòng thử lại sau ít phút",icon:"CircleExclamation",type:"error"}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(3),console.log(t.t0),e.$alertMessage({message:"Đăng ký lỗi, xin vui lòng thử lại sau ít phút",icon:"CircleExclamation",type:"error"});case 15:case"end":return t.stop()}}),t,null,[[3,11]])})))()},pushSubEventToGA:function(e){var t=e.event,title=e.title,r=e.email,o=e.phone,n=e.name,c=e.productId,l=e.formName,d=window.dataLayer||[],m=this.$cookies.get("required_login")||!1;d.push({isRequiredLogin:m,user_data:{email_address:r,phone_number:o,address:{first_name:n,last_name:"",city:"",region:"",district:"",ward:"",postal_code:"",country:""},form_key:"",form_name:l,form_vs:"",cf:"cf_51=".concat(title," || cf_52=").concat(c)},event:t,eventModel:{value:0}}),console.log("DataLayer:"),console.log(d)}})},h=(r(1518),r(74)),component=Object(h.a)(m,(function(){var e=this,t=e._self._c;return e.popupErrorInfo?t("div",[e.show?t("div",{staticClass:"overlay",on:{click:function(t){return t.preventDefault(),e.handleClosePopup()}}}):e._e(),e._v(" "),t("transition",{attrs:{name:"fade"}},[e.show?t("div",{staticClass:"popup"},[t("div",{staticClass:"popup-main"},[t("div",{staticClass:"popup-main__header"},[t("span",[e._v(e._s(e.popupErrorInfo.title))])]),e._v(" "),t("div",{staticClass:"popup-main__body"},[t("RenderHtml",{attrs:{html:e.popupErrorInfo.message}})],1),e._v(" "),t("div",{staticClass:"popup-main__footer"},[e.popupErrorInfo.buttonSecondary?t("button",{staticClass:"secondary-btn",on:{click:function(t){return e.handleClickActionSecondary(e.popupErrorInfo.actionSecondary)}}},[t("span",[e._v("\n              "+e._s(e.popupErrorInfo.buttonSecondary)+"\n            ")])]):e._e(),e._v(" "),e.popupErrorInfo.buttonPrimary?t("button",{staticClass:"primary-btn",on:{click:function(t){return e.handleClickBtn(e.popupErrorInfo.actionPrimary)}}},[t("span",[e._v("\n              "+e._s(e.popupErrorInfo.buttonPrimary)+"\n            ")])]):e._e()])])]):t("div")])],1):t("div")}),[],!1,null,"0b762707",null);t.default=component.exports}}]);