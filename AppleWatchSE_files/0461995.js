(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{1096:function(e,t,n){e.exports={}},1522:function(e,t,n){"use strict";n(1096)},1960:function(e,t,n){"use strict";n.r(t);n(62),n(22),n(91);var o=n(7),r=(n(9),n(36),n(33),n(47),n(48),n(52),n(23),n(55),n(26)),l=n(105),c=n(334),m=n(795);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v={name:"ExclusivePrice",components:{BoxPromotion:function(){return n.e(49).then(n.bind(null,2044))}},props:{variantSelected:{type:Object,default:function(){return{}}},showStudentPrice:{type:Boolean,default:!1},listFlashSaleProgram:{type:Object,default:null}},data:function(){return{rankBenefit:{},mainEntity:{},memberPromotion:{},cpsMain:"https://cellphones.com.vn/",maxDiscountMemberLevel:{smember:"none",student:"none"}}},computed:h(h(h(h(h(h(h(h({},Object(r.e)("s-student",["discountEduPack"])),Object(r.e)("product",["productData"])),Object(r.e)("login",["user"])),Object(r.e)("meta-head",["head"])),Object(r.e)("province",["province"])),Object(r.e)("flash-sale",["flashSaleProgram","listIdProductInFlashSale"])),Object(r.e)("json-server",["jsonData"])),{},{checkFlashSaleStudent:function(){var e;if(!this.user.loggedIn||null!==(e=this.user)&&void 0!==e&&e.is_student||!this.listFlashSaleProgram||!Object.keys(this.listFlashSaleProgram).length)return null;var t=this.user.level,n=this.getFlashSaleProgram(!0,t,!0,this.listFlashSaleProgram);return n.title&&"sstudent"===n.title?n.program.price:null},showPromotionBlock:function(){var e=[];if(Object.keys(this.memberPromotion||{}).length)for(var t in this.memberPromotion){var n;null!==(n=this.memberPromotion[t].member_level)&&void 0!==n&&n.includes(this.user.customer_type)||e.push(t)}return Object.keys(this.memberPromotion||{}).length!==e.length}}),watch:{productData:{deep:!0,handler:function(){var e;this.checkMainEntity(),this.maxDiscountMemberLevel=this.checkMaxDiscountMemberLevel(null===(e=this.mainEntity)||void 0===e?void 0:e.prices)}},discountEduPack:{deep:!0,handler:function(){var e;this.checkMainEntity(),this.maxDiscountMemberLevel=this.checkMaxDiscountMemberLevel(null===(e=this.mainEntity)||void 0===e?void 0:e.prices)}},variantSelected:{deep:!0,handler:function(){var e;this.checkMainEntity(),this.maxDiscountMemberLevel=this.checkMaxDiscountMemberLevel(null===(e=this.mainEntity)||void 0===e?void 0:e.prices)}}},mounted:function(){var e;this.checkMainEntity(),this.maxDiscountMemberLevel=this.checkMaxDiscountMemberLevel(null===(e=this.mainEntity)||void 0===e?void 0:e.prices)},methods:h(h({},Object(r.d)("login",["toggleModalLogin"])),{},{formatMoney:l.o,pushSimpleEventToGA:c.d,getFlashSaleProgram:m.d,formatLevel:m.c,checkMaxDiscountMemberLevel:m.a,logginCheckLastPrice:function(){this.toggleModalLogin({condition:!0,title:"xem giá cuối cùng của bạn"}),this.pushSimpleEventToGA(this.head.title,"dang_nhap_xem_gia",{regionName:12869===this.province.company_id?"Miền Nam_7":"Miền Bắc_1",provinceName:this.province.id})},checkMainEntity:function(){var e;for(var t in this.mainEntity=(null===(e=this.variantSelected)||void 0===e?void 0:e.filterable)||this.productData.filterable,this.discountEduPack){var n,o,r;this.discountEduPack&&this.discountEduPack[t].max_slot>this.discountEduPack[t].sold&&null!==(n=this.mainEntity.member_promotion)&&void 0!==n&&n.km_chung&&null!==(o=this.mainEntity.member_promotion)&&void 0!==o&&o.km_chung[t]&&this.$set(this.memberPromotion,t,null===(r=this.mainEntity.member_promotion)||void 0===r?void 0:r.km_chung[t])}console.log("memberPromotion",this.memberPromotion)}})},k=(n(1522),n(74)),component=Object(k.a)(v,(function(){var e,t,n,o,r,l,c,m,d,h,v,k,f,_,y,w,P,M=this,j=M._self._c;return j("div",{directives:[{name:"show",rawName:"v-show",value:Object.keys(M.mainEntity.prices||{}).length||Object.keys(M.memberPromotion||{}).length,expression:"Object.keys(mainEntity.prices || {}).length || Object.keys(memberPromotion || {}).length"}]},[M.user.loggedIn&&Object.keys(M.memberPromotion||{}).length>0&&M.user.customer_type&&!M.listIdProductInFlashSale.includes(parseInt(null===(e=M.mainEntity)||void 0===e?void 0:e.product_id))&&M.showPromotionBlock?j("BoxPromotion",{attrs:{"title-promotion":"Quà tặng đặc quyền ".concat("student"===M.user.customer_type?"S-Student":"S-Teacher"),"promotion-pack":M.memberPromotion||{}}}):M.user.loggedIn&&(Object.keys(M.jsonData.rankBenefit||{}).includes(null===(t=M.user.level)||void 0===t?void 0:t.toLowerCase())||M.checkFlashSaleStudent||!M.showStudentPrice&&null!==(n=M.mainEntity)&&void 0!==n&&n.prices&&null!==(o=M.mainEntity)&&void 0!==o&&o.prices["".concat(null===(r=M.user.level||"")||void 0===r?void 0:r.toLowerCase(),"_student")])?j("div",{staticClass:"exclusive-price-block"},[Object.keys(M.jsonData.rankBenefit||{}).includes(null===(l=M.user.level)||void 0===l?void 0:l.toLowerCase())?j("div",[j("p",{staticClass:"title-smem"},[j("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[j("path",{attrs:{d:"M19.97 10H3.96997V18C3.96997 21 4.96997 22 7.96997 22H15.97C18.97 22 19.97 21 19.97 18V10Z",stroke:"#D70018","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"}}),M._v(" "),j("path",{attrs:{d:"M21.5 7V8C21.5 9.1 20.97 10 19.5 10H4.5C2.97 10 2.5 9.1 2.5 8V7C2.5 5.9 2.97 5 4.5 5H19.5C20.97 5 21.5 5.9 21.5 7Z",stroke:"#D70018","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"}}),M._v(" "),j("path",{attrs:{d:"M11.64 4.99945H6.12003C5.78003 4.62945 5.79003 4.05945 6.15003 3.69945L7.57003 2.27945C7.94003 1.90945 8.55003 1.90945 8.92003 2.27945L11.64 4.99945Z",stroke:"#D70018","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"}}),M._v(" "),j("path",{attrs:{d:"M17.8701 4.99945H12.3501L15.0701 2.27945C15.4401 1.90945 16.0501 1.90945 16.4201 2.27945L17.8401 3.69945C18.2001 4.05945 18.2101 4.62945 17.8701 4.99945Z",stroke:"#D70018","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"}}),M._v(" "),j("path",{attrs:{d:"M8.93994 10V15.14C8.93994 15.94 9.81994 16.41 10.4899 15.98L11.4299 15.36C11.7699 15.14 12.1999 15.14 12.5299 15.36L13.4199 15.96C14.0799 16.4 14.9699 15.93 14.9699 15.13V10H8.93994Z",stroke:"#D70018","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"}})]),M._v("\n        Quà tặng đặc quyền\n        "+M._s(M.user.level)+"\n      ")]),M._v(" "),j("ul",M._l(M.jsonData.rankBenefit[null===(c=M.user.level)||void 0===c?void 0:c.toLowerCase()],(function(e,t){return j("li",{key:t},[j("RenderHtml",{attrs:{html:e}})],1)})),0)]):M._e(),M._v(" "),M.checkFlashSaleStudent?[j("hr"),M._v(" "),j("p",{staticClass:"promo-student"},[M._v("Ưu đãi cho Học sinh - sinh viên, Giảng viên - giáo viên giá\n        "),j("strong",[M._v("FlashSale")]),M._v(" chỉ còn\n        "),j("strong",[M._v(M._s(M.formatMoney(M.checkFlashSaleStudent))+"đ")]),M._v(" "),j("a",{attrs:{href:"".concat(M.cpsMain,"smember/promotion/s-student")}},[M._v("Xác thực để mua ngay!")])])]:!M.showStudentPrice&&null!==(m=M.mainEntity)&&void 0!==m&&m.prices&&null!==(d=M.mainEntity)&&void 0!==d&&d.prices["".concat(null===(h=M.user.level||"")||void 0===h?void 0:h.toLowerCase(),"_student")]?[j("hr"),M._v(" "),j("p",{staticClass:"promo-student"},[M._v("Ưu đãi cho Học sinh - sinh viên, Giảng viên - giáo viên chỉ còn\n        "),j("strong",[M._v(M._s(M.formatMoney(null===(v=M.mainEntity)||void 0===v?void 0:v.prices["".concat(null===(k=M.user.level||"")||void 0===k?void 0:k.toLowerCase(),"_student")].value))+"đ")]),M._v(".\n\n        "),j("a",{attrs:{href:"".concat(M.cpsMain,"smember/promotion/s-student")}},[M._v("Xác thực để mua ngay!")])])]:j("div")],2):!M.user.loggedIn&&M.mainEntity.prices&&M.mainEntity.prices[M.maxDiscountMemberLevel.smember]&&null!==(f=M.mainEntity.prices[M.maxDiscountMemberLevel.smember])&&void 0!==f&&f.chiet_khau?j("div",{staticClass:"exclusive-price-block"},[j("p",[M._v("\n      Tiết kiệm thêm đến\n      "),j("span",[M._v(M._s(M.formatMoney(null===(_=M.mainEntity.prices[M.maxDiscountMemberLevel.smember])||void 0===_?void 0:_.chiet_khau))+"đ")]),M._v("\n      cho Smember\n    ")]),M._v(" "),null!==(y=M.mainEntity)&&void 0!==y&&y.prices&&null!==(w=M.mainEntity)&&void 0!==w&&w.prices[M.maxDiscountMemberLevel.student]?j("p",[M._v("Ưu đãi cho Học sinh - sinh viên, Giảng viên - giáo\n      viên\n      đến "),j("span",[M._v(M._s(M.formatMoney(null===(P=M.mainEntity)||void 0===P||null===(P=P.prices[M.maxDiscountMemberLevel.student])||void 0===P?void 0:P.discount_value))+"đ")])]):M._e(),M._v(" "),j("a",{staticClass:"dang_nhap_xem_gia",on:{click:function(e){return M.logginCheckLastPrice()}}},[M._v("\n      Kiểm tra giá cuối cùng của bạn\n      "),j("svg",{attrs:{width:"6",height:"10",viewBox:"0 0 6 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[j("path",{attrs:{d:"M1 1L4.29289 4.29289C4.68342 4.68342 4.68342 5.31658 4.29289 5.70711L1 9",stroke:"#D60000","stroke-width":"1.5","stroke-linecap":"round"}})])])]):j("div")],1)}),[],!1,null,"205a6206",null);t.default=component.exports},795:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return v})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return _})),n.d(t,"e",(function(){return y}));n(229),n(62),n(96),n(60),n(64),n(9),n(91);var o="snull",r="snew",l="smem",c="svip",m="sstudent",d="all";function h(e){var t="none",n="none";return e&&(t=["svip","smem","snew","snull"].find((function(t){return e[t]}))||"none",n=["svip_student","smem_student","snew_student","snull_student"].find((function(t){return e[t]}))||"none"),{smember:t,student:n}}function v(e){var t=e.dataShowPriceAt,n=e.dataStartAt,o=new Date,r=new Date(t),l=new Date(n);return r<=o||l<=o}function k(e){var t=new Date,n=new Date(e.shown_at),o=new Date(e.ended_at);return n<=t&&t<=o}function f(){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],t=arguments.length>3?arguments[3]:void 0;if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]){var n=((arguments.length>1&&void 0!==arguments[1]?arguments[1]:"snull")||"").toLowerCase(),h=o;switch(n){case o:h=o;break;case r:h=r;break;case l:h=l;break;case c:h=c;break;default:h=o}var v={title:null,program:null},f={title:null,program:null};if(e&&t[m]&&k(t[m])&&(v.program=t[m],v.title=m),t[h]&&k(t[h])?(f.program=t[h],f.title=h):null!=t&&t.all&&k(t.all)&&(f.program=t.all,f.title=null),v.program&&f.program){var _=new Date,y=new Date(v.program.started_at);return new Date(f.program.started_at)<=y&&_<=y?f:v}return v.program?v:f.program?f:{title:null,program:null}}for(var w=[m,c,l,r,o,d],P={title:null,program:null},i=0;i<w.length;i++){var M=t[w[i]];if(M&&k(M)){P.title=w[i]===d?null:w[i],P.program=M;break}}return P}function _(input){var e=input.charAt(0).toUpperCase(),t=input.slice(1);return e+"-"+(t=t.charAt(0).toUpperCase()+t.slice(1))}function y(e){return!e.length||e.includes(d)?"Chỉ áp dụng thanh toán online thành công — Mỗi SĐT chỉ được mua 1 sản phẩm cùng loại":"Áp dụng cho hạng thành viên: ".concat(e.map((function(e){return _(e).toUpperCase()})).join(", ")," — Chỉ áp dụng thanh toán online thành công — Mỗi SĐT chỉ được mua 1 sản phẩm cùng loại")}}}]);